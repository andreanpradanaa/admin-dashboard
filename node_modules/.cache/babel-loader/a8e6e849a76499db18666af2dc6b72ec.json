{"ast":null,"code":"var _jsxFileName = \"D:\\\\intens-admin\\\\frontend\\\\src\\\\components\\\\pages\\\\user\\\\UpdateUser.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { logoutAction } from \"../../../container/actions\";\nimport Logout from \"../../imports/Logout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UpdateUser = props => {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const route = () => {\n    const token = localStorage.getItem(\"x-access-token\");\n    return token ? true : false;\n  };\n\n  useEffect(() => {\n    if (!route()) {\n      history.push(\"/login\");\n    }\n  }, [route, history]);\n\n  const logout = () => {\n    dispatch(logoutAction());\n  };\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const changeOnClick = e => {\n    const formData = new FormData();\n    formData.append(\"username\", username);\n    formData.append(\"password\", password);\n    axios.put(`http://localhost:4000/api/user/update/${props.match.params.id}`, formData).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    axios.get(`http://localhost:4000/api/user/${props.match.params.id}`).then(res => [setUsername(res.data.username), setPassword(res.data.password)]).catch(error => console.log(error));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: changeOnClick,\n      encType: \"form-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"username\",\n        type: \"text\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        className: \"form-control text-center\",\n        placeholder: \"username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password\",\n        type: \"text\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        className: \"form-control text-center\",\n        placeholder: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UpdateUser, \"fEyxzyDM1eSGzymSCto+EZP5rOk=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = UpdateUser;\nexport default UpdateUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateUser\");","map":{"version":3,"sources":["D:/intens-admin/frontend/src/components/pages/user/UpdateUser.js"],"names":["axios","React","useState","useEffect","useDispatch","Link","useHistory","logoutAction","Logout","UpdateUser","props","history","dispatch","route","token","localStorage","getItem","push","logout","username","setUsername","password","setPassword","changeOnClick","e","formData","FormData","append","put","match","params","id","catch","err","console","log","get","then","res","data","error","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAAA;;AAC5B,QAAMC,OAAO,GAAGL,UAAU,EAA1B;AACA,QAAMM,QAAQ,GAAGR,WAAW,EAA5B;;AAEA,QAAMS,KAAK,GAAG,MAAM;AAClB,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAd;AACA,WAAOF,KAAK,GAAG,IAAH,GAAU,KAAtB;AACD,GAHD;;AAKAX,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACU,KAAK,EAAV,EAAc;AACZF,MAAAA,OAAO,CAACM,IAAR,CAAa,QAAb;AACD;AACF,GAJQ,EAIN,CAACJ,KAAD,EAAQF,OAAR,CAJM,CAAT;;AAMA,QAAMO,MAAM,GAAG,MAAM;AACnBN,IAAAA,QAAQ,CAACL,YAAY,EAAb,CAAR;AACD,GAFD;;AAIA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACmB,QAAD,EAAWC,WAAX,IAA0BpB,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMqB,aAAa,GAAIC,CAAD,IAAO;AAC3B,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BR,QAA5B;AACAM,IAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BN,QAA5B;AAEArB,IAAAA,KAAK,CACF4B,GADH,CAEK,yCAAwClB,KAAK,CAACmB,KAAN,CAAYC,MAAZ,CAAmBC,EAAG,EAFnE,EAGIN,QAHJ,EAKGO,KALH,CAKUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAPH;AAQD,GAdD;;AAgBA9B,EAAAA,SAAS,CAAC,MAAM;AACdH,IAAAA,KAAK,CACFoC,GADH,CACQ,kCAAiC1B,KAAK,CAACmB,KAAN,CAAYC,MAAZ,CAAmBC,EAAG,EAD/D,EAEGM,IAFH,CAESC,GAAD,IAAS,CACblB,WAAW,CAACkB,GAAG,CAACC,IAAJ,CAASpB,QAAV,CADE,EAEbG,WAAW,CAACgB,GAAG,CAACC,IAAJ,CAASlB,QAAV,CAFE,CAFjB,EAMGW,KANH,CAMUQ,KAAD,IAAWN,OAAO,CAACC,GAAR,CAAYK,KAAZ,CANpB;AAOD,GARQ,EAQN,EARM,CAAT;AAUA,sBACE;AAAA,2BACE;AAAM,MAAA,QAAQ,EAAEjB,aAAhB;AAA+B,MAAA,OAAO,EAAC,WAAvC;AAAA,8BACE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAEJ,QAHT;AAIE,QAAA,QAAQ,EAAGK,CAAD,IAAOJ,WAAW,CAACI,CAAC,CAACiB,MAAF,CAASC,KAAV,CAJ9B;AAKE,QAAA,SAAS,EAAC,0BALZ;AAME,QAAA,WAAW,EAAC;AANd;AAAA;AAAA;AAAA;AAAA,cADF,eAUE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAErB,QAHT;AAIE,QAAA,QAAQ,EAAGG,CAAD,IAAOF,WAAW,CAACE,CAAC,CAACiB,MAAF,CAASC,KAAV,CAJ9B;AAKE,QAAA,SAAS,EAAC,0BALZ;AAME,QAAA,WAAW,EAAC;AANd;AAAA;AAAA;AAAA;AAAA,cAVF,eAmBE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA2BD,CA3ED;;GAAMjC,U;UACYH,U,EACCF,W;;;KAFbK,U;AA6EN,eAAeA,UAAf","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { logoutAction } from \"../../../container/actions\";\r\nimport Logout from \"../../imports/Logout\";\r\n\r\nconst UpdateUser = (props) => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const route = () => {\r\n    const token = localStorage.getItem(\"x-access-token\");\r\n    return token ? true : false;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!route()) {\r\n      history.push(\"/login\");\r\n    }\r\n  }, [route, history]);\r\n\r\n  const logout = () => {\r\n    dispatch(logoutAction());\r\n  };\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const changeOnClick = (e) => {\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"username\", username);\r\n    formData.append(\"password\", password);\r\n\r\n    axios\r\n      .put(\r\n        `http://localhost:4000/api/user/update/${props.match.params.id}`,\r\n        formData\r\n      )\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://localhost:4000/api/user/${props.match.params.id}`)\r\n      .then((res) => [\r\n        setUsername(res.data.username),\r\n        setPassword(res.data.password),\r\n      ])\r\n      .catch((error) => console.log(error));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={changeOnClick} encType=\"form-data\">\r\n        <input\r\n          name=\"username\"\r\n          type=\"text\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          className=\"form-control text-center\"\r\n          placeholder=\"username\"\r\n        />\r\n\r\n        <input\r\n          name=\"password\"\r\n          type=\"text\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          className=\"form-control text-center\"\r\n          placeholder=\"password\"\r\n        />\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Update\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateUser;\r\n"]},"metadata":{},"sourceType":"module"}