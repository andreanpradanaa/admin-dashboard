{"ast":null,"code":"var _jsxFileName = \"D:\\\\intens-admin\\\\frontend\\\\src\\\\components\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport LoginForm from \"../imports/LoginForm\";\nimport { useDispatch } from \"react-redux\";\nimport { loginAction } from \"../../container/actions\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setError] = useState(\"\");\n  const dispatch = useDispatch();\n  const history = useHistory(); // handle submit\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const userCredential = {\n      username,\n      password\n    };\n    dispatch({\n      type: \"REGISTER_SUCCESS\",\n      payload: \"login dispatch\"\n    }); // const userData = { username: \"admin\", password: \"admin123\" };\n\n    const login = dispatch(loginAction(userCredential));\n    login.then(() => history.push(\"/\")).catch(error => {\n      setError(error.err);\n      console.log(error.err);\n    }); // console.log(store.getState());\n    // console.log(userCredential);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(LoginForm, {\n      loginState: {\n        errorMessage,\n        handleSubmit,\n        setUsername,\n        setPassword,\n        setError\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"GyAmd8Xcvbdfn2o0DkNP+gN9hb0=\", false, function () {\n  return [useDispatch, useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/intens-admin/frontend/src/components/pages/Login.js"],"names":["React","useState","LoginForm","useDispatch","loginAction","useHistory","Login","username","setUsername","password","setPassword","errorMessage","setError","dispatch","history","handleSubmit","event","preventDefault","userCredential","type","payload","login","then","push","catch","error","err","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AAEA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;;AAEA,SAASC,KAAT,GAAiB;AAAA;;AACf,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,YAAD,EAAeC,QAAf,IAA2BX,QAAQ,CAAC,EAAD,CAAzC;AAEA,QAAMY,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,OAAO,GAAGT,UAAU,EAA1B,CANe,CAQf;;AACA,QAAMU,YAAY,GAAIC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAMC,cAAc,GAAG;AACrBX,MAAAA,QADqB;AAErBE,MAAAA;AAFqB,KAAvB;AAKAI,IAAAA,QAAQ,CAAC;AAAEM,MAAAA,IAAI,EAAE,kBAAR;AAA4BC,MAAAA,OAAO,EAAE;AAArC,KAAD,CAAR,CAR8B,CAS9B;;AACA,UAAMC,KAAK,GAAGR,QAAQ,CAACT,WAAW,CAACc,cAAD,CAAZ,CAAtB;AACAG,IAAAA,KAAK,CACFC,IADH,CACQ,MAAMR,OAAO,CAACS,IAAR,CAAa,GAAb,CADd,EAEGC,KAFH,CAEUC,KAAD,IAAW;AAChBb,MAAAA,QAAQ,CAACa,KAAK,CAACC,GAAP,CAAR;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,GAAlB;AACD,KALH,EAX8B,CAiB9B;AACA;AACD,GAnBD;;AAqBA,sBACE;AAAA,2BACE,QAAC,SAAD;AACE,MAAA,UAAU,EAAE;AACVf,QAAAA,YADU;AAEVI,QAAAA,YAFU;AAGVP,QAAAA,WAHU;AAIVE,QAAAA,WAJU;AAKVE,QAAAA;AALU;AADd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAaD;;GA3CQN,K;UAKUH,W,EACDE,U;;;KANTC,K;AA6CT,eAAeA,KAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport LoginForm from \"../imports/LoginForm\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loginAction } from \"../../container/actions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setError] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // handle submit\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const userCredential = {\r\n      username,\r\n      password,\r\n    };\r\n\r\n    dispatch({ type: \"REGISTER_SUCCESS\", payload: \"login dispatch\" });\r\n    // const userData = { username: \"admin\", password: \"admin123\" };\r\n    const login = dispatch(loginAction(userCredential));\r\n    login\r\n      .then(() => history.push(\"/\"))\r\n      .catch((error) => {\r\n        setError(error.err);\r\n        console.log(error.err);\r\n      });\r\n    // console.log(store.getState());\r\n    // console.log(userCredential);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <LoginForm\r\n        loginState={{\r\n          errorMessage,\r\n          handleSubmit,\r\n          setUsername,\r\n          setPassword,\r\n          setError,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}